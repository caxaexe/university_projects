# Лабораторная работа №1

## Цель
Научиться создавать и выполнять простые Shell-скрипты для автоматизации рутинных задач в операционной системе Linux.

## Задача
Очистка временных файлов:
1. Скрипт должен быть назван cleanup.sh;
2. Скрипт должен принимать хотя бы один аргумент: путь к директории, которую нужно очистить;
3. Остальные аргументы являются необязательными и указывают типы файлов для удаления (например, , .tmp.log);
4. По умолчанию файлы с расширением удаляются;.tmp
5. По окончании выполнения скрипта он должен вывести количество удаленных файлов;
6. Скрипт должен проверить существование указанного каталога и вывести соответствующие сообщения об ошибках.
7. В конце выводится общее количество удалённых файлов.
   
## Ход работы
Для выполнения данной работы я создаю файл `cleanup.sh` в Linux и делаю его исполняемым:  
<img width="1452" height="49" alt="Снимок экрана 2025-09-13 204503" src="https://github.com/user-attachments/assets/0925c64b-a4db-4e6d-ba16-2b7c342f610b" />

Скрипт:
```bash
#!/bin/bash

if [ $# -lt 1 ]; then
    echo "Использование: $0 <директория> [расширение1] [расширение2] ..."
    exit 1
fi

DIR=$1
shift

if [ $# -eq 0 ]; then
    EXTENSIONS=(".tmp")
else
    EXTENSIONS=("$@")
fi

if [ ! -d "$DIR" ]; then
    echo "Ошибка: директория '$DIR' не существует."
    exit 1
fi

deleted_count=0

for ext in "${EXTENSIONS[@]}"; do
    files=("$DIR"/*"$ext")
    
    for file in "${files[@]}"; do
        if [ -f "$file" ]; then
            rm "$file"
            ((deleted_count++))
        fi
    done
done

echo "Удалено файлов: $deleted_count"

```

Как работает скрипт:  
1. `DIR=$1` — сохраняем путь к директории.  
2. `shift` — убираем первый аргумент, оставляя только расширения.
3. `EXTENSIONS=("$@")` — сохраняем список расширений. Если аргументов нет, по умолчанию .tmp.
4. Цикл `for ext in "${EXTENSIONS[@]}"` — перебираем все расширения.
5. Внутренний цикл ищет все файлы с нужным расширением и удаляет их.

Далее проверяю работоспособность созданного скрипта. Для этого я создаю несколько файлов с расширенями `.tmp` и `.log` в той же директории:  
<img width="1519" height="262" alt="Снимок экрана 2025-09-13 204706" src="https://github.com/user-attachments/assets/32113603-8724-4718-8980-06cf7bed10c1" />  
  
Затем запускаю скрипт и можно заметить, что он выполняет свою работу просто великолепно просто прекрасно просто восхитительно, были удалены все имеющиеся файлы с указанными расширениями:
<img width="1525" height="132" alt="Снимок экрана 2025-09-13 204757" src="https://github.com/user-attachments/assets/58d12658-53f2-43e6-86fe-e8163953982f" />


## Вывод
В ходе лабораторной работы я научилась создавать и выполнять простые shell-скрипты для автоматизации рутинных задач в Linux. Были изучены основные конструкции bash: проверка наличия аргументов, условные операторы, циклы, работа с массивами и файлами. На практике реализован скрипт `cleanup.sh`, который удаляет временные файлы заданного типа в указанной директории, учитывает ошибки при отсутствии директории и выводит количество удалённых файлов. Работа показала, что автоматизация с помощью скриптов значительно упрощает управление файлами и экономит время пользователя.
